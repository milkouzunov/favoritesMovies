{"ast":null,"code":"var _jsxFileName = \"/media/uzunov/78604C4A604C1174/favorites-movies/src/Components/Search/MovieCard/MovieCard.js\",\n    _s = $RefreshSig$();\n\nimport { Link as RouterLink } from \"react-router-dom\";\nimport Parser from 'html-react-parser';\nimport { Link } from \"@material-ui/core\";\nimport { useEffect, useState } from \"react\";\nimport * as favoriteService from '../../../services/favoriteService';\nimport { useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MovieCard(movie) {\n  _s();\n\n  var _movie$movie, _movie$movie2, _movie$movie3;\n\n  const username = useSelector(state => state.auth.user);\n  const [isFavorite, setIsFavorite] = useState(false);\n  useEffect(() => {\n    if (username) {\n      favoriteService.get().then(res => {\n        return res.json();\n      }).then(favorites => {\n        if (favorites.length > 0) {\n          const isFavorite = favorites.some(x => x.movieId == movie.movie.id);\n\n          if (isFavorite) {\n            setIsFavorite(true);\n          }\n        }\n      });\n    }\n  }, []);\n\n  const addFavorite = e => {\n    e.preventDefault();\n    movie = Object.assign({}, {\n      movieId: movie.movie.id,\n      name: movie.movie.name,\n      genres: movie.movie.genres,\n      runtime: movie.movie.runtime,\n      officialSite: movie.movie.officialSite,\n      summary: movie.movie.summary,\n      imageUrl: movie.movie.imageUrl\n    });\n    favoriteService.add(movie).then(res => {\n      if (res.ok) {\n        setIsFavorite(true);\n      }\n    }).catch(error => console.log(error));\n  };\n\n  const removeFavorite = e => {\n    e.preventDefault();\n    favoriteService.remove(movie.movie.id).then(res => {\n      if (res.ok) {\n        setIsFavorite(false);\n      }\n    }).catch(error => console.log(error));\n  };\n\n  return /*#__PURE__*/_jsxDEV(Link, {\n    underline: \"none\",\n    component: RouterLink,\n    to: `/details/${movie.movie.id}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-image\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"movie image\",\n          src: movie.movie.imageUrl,\n          style: {\n            width: '100%',\n            height: '100%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: movie.movie.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [(_movie$movie = movie.movie) === null || _movie$movie === void 0 ? void 0 : _movie$movie.genres.join(', '), \" | \", (_movie$movie2 = movie.movie) === null || _movie$movie2 === void 0 ? void 0 : _movie$movie2.runtime, \" minutes\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this), ((_movie$movie3 = movie.movie) === null || _movie$movie3 === void 0 ? void 0 : _movie$movie3.summary) ? Parser(movie.movie.summary) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Not Summary.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 67\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            onClick: e => {\n              e.preventDefault();\n              window.location.href = movie.movie.officialSite;\n            },\n            children: \"Visit official site\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this), username ? /*#__PURE__*/_jsxDEV(Link, {\n          onClick: isFavorite ? removeFavorite : addFavorite,\n          className: isFavorite ? \"button-favorite remove-favorite\" : \"button-favorite add-favorite\",\n          children: isFavorite ? 'Remove From Favorite' : 'Add To Favorite'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 25\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n          .button-favorite {\n            background-color: #ffffff;\n            size: 2px;\n            display: inline-block;\n            font-weight: 400;\n            text-align: center;\n            vertical-align: middle;\n            text-decoration: none;\n            border: 3px solid;\n            padding: 0.375rem 1rem;\n            font-size: 20px;\n            line-height: 1.5;\n            border-radius: 0.25rem;\n            box-shadow: \"0px 10px 13px -7px #000000, 0px -15px 0px -12px rgba(0,0,0,0)\";\n            transition: \"color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out\";\n          }\n          .add-favorite {\n            border-color: #33a64c;\n            color: #33a64c;\n          }\n          .add-favorite:hover {\n            background-color: #33a64c;\n            border-color: #33a64c;\n            color: #ffffff;\n            cursor: pointer;\n          }\n          .remove-favorite {\n            border-color: #cc0000;\n            color: #cc0000;\n          }\n          .remove-favorite:hover {\n            background-color: #cc0000;\n            border-color: #cc0000;\n            color: #ffffff;\n            cursor: pointer;\n          }\n          .card {\n            margin: 10px;\n            width: 100%;\n            text-align: left;\n            display: flex;\n            flex-direction: row;\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.25);\n            border-radius: 5px;\n          }\n\n          .card-image {\n            width: 21%;\n            height: 300px;\n          }\n\n          .card-content {\n            width: 50%;\n            padding: 20px 40px;\n          }\n        `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MovieCard, \"C8HYAQAtHruRI51oa+iiInWw0Ds=\", false, function () {\n  return [useSelector];\n});\n\n_c = MovieCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"MovieCard\");","map":{"version":3,"sources":["/media/uzunov/78604C4A604C1174/favorites-movies/src/Components/Search/MovieCard/MovieCard.js"],"names":["Link","RouterLink","Parser","useEffect","useState","favoriteService","useSelector","MovieCard","movie","username","state","auth","user","isFavorite","setIsFavorite","get","then","res","json","favorites","length","some","x","movieId","id","addFavorite","e","preventDefault","Object","assign","name","genres","runtime","officialSite","summary","imageUrl","add","ok","catch","error","console","log","removeFavorite","remove","width","height","join","window","location","href"],"mappings":"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","sourcesContent":["import { Link as RouterLink } from \"react-router-dom\";\nimport Parser from 'html-react-parser';\n\nimport { Link } from \"@material-ui/core\";\nimport { useEffect, useState } from \"react\";\n\nimport * as favoriteService from '../../../services/favoriteService';\nimport { useSelector } from \"react-redux\";\n\n\nexport default function MovieCard (movie) {\n    const username = useSelector((state) => state.auth.user);\n\n    const [isFavorite, setIsFavorite] = useState(false);\n    \n    useEffect(() => {\n      \n      if(username) {\n        favoriteService.get()\n        .then(res => { return res.json(); })\n        .then((favorites) => {\n          if(favorites.length > 0) {\n            const isFavorite = favorites.some(x => x.movieId == movie.movie.id);\n            if(isFavorite) {\n                setIsFavorite(true);\n            } \n          }\n        });\n      }\n        \n    }, []);\n    \n    const addFavorite = (e) => {\n        e.preventDefault();\n        movie = Object.assign(\n            {},\n            {\n              movieId: movie.movie.id,\n              name: movie.movie.name,\n              genres: movie.movie.genres,\n              runtime: movie.movie.runtime,\n              officialSite: movie.movie.officialSite,\n              summary: movie.movie.summary,\n              imageUrl: movie.movie.imageUrl,\n            }\n          );\n        favoriteService.add(movie)\n        .then(res => {\n            if(res.ok) {\n                setIsFavorite(true);\n            }\n        })\n        .catch(error => console.log(error));\n      };\n\n      const removeFavorite = (e) => {\n        e.preventDefault();\n        \n        favoriteService.remove(movie.movie.id)\n        .then(res => {\n            if(res.ok) {\n                setIsFavorite(false);\n            }\n        })\n        .catch(error => console.log(error));\n      };\n\n    return (\n        <Link underline=\"none\" component={RouterLink} to={`/details/${movie.movie.id}`} >\n        <div className=\"card\">\n          <div className=\"card-image\">\n            <img alt='movie image' src={movie.movie.imageUrl} style={{\n              width: '100%',\n              height: '100%'\n            }}/>\n          </div>\n          <div className=\"card-content\">\n            <h2>{movie.movie.name}</h2>\n            <p>{movie.movie?.genres.join(', ')} | {movie.movie?.runtime} minutes</p>\n            {movie.movie?.summary ? Parser(movie.movie.summary) : <p>Not Summary.</p>}\n            <p>\n              <Link\n                onClick={(e) => {\n                  e.preventDefault();\n                  window.location.href = movie.movie.officialSite;\n                }}\n              >\n                Visit official site\n              </Link>\n            </p>\n            {username ? <Link\n              onClick={isFavorite ? removeFavorite : addFavorite}\n              className={isFavorite ? \"button-favorite remove-favorite\" : \"button-favorite add-favorite\"}\n            >\n              {isFavorite ? 'Remove From Favorite' : 'Add To Favorite'}\n            </Link> : null}\n          </div>\n        </div>\n        <style jsx>\n        {`\n          .button-favorite {\n            background-color: #ffffff;\n            size: 2px;\n            display: inline-block;\n            font-weight: 400;\n            text-align: center;\n            vertical-align: middle;\n            text-decoration: none;\n            border: 3px solid;\n            padding: 0.375rem 1rem;\n            font-size: 20px;\n            line-height: 1.5;\n            border-radius: 0.25rem;\n            box-shadow: \"0px 10px 13px -7px #000000, 0px -15px 0px -12px rgba(0,0,0,0)\";\n            transition: \"color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out\";\n          }\n          .add-favorite {\n            border-color: #33a64c;\n            color: #33a64c;\n          }\n          .add-favorite:hover {\n            background-color: #33a64c;\n            border-color: #33a64c;\n            color: #ffffff;\n            cursor: pointer;\n          }\n          .remove-favorite {\n            border-color: #cc0000;\n            color: #cc0000;\n          }\n          .remove-favorite:hover {\n            background-color: #cc0000;\n            border-color: #cc0000;\n            color: #ffffff;\n            cursor: pointer;\n          }\n          .card {\n            margin: 10px;\n            width: 100%;\n            text-align: left;\n            display: flex;\n            flex-direction: row;\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.25);\n            border-radius: 5px;\n          }\n\n          .card-image {\n            width: 21%;\n            height: 300px;\n          }\n\n          .card-content {\n            width: 50%;\n            padding: 20px 40px;\n          }\n        `}\n      </style>\n      </Link>\n    );\n}"]},"metadata":{},"sourceType":"module"}